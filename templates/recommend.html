<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Recommend</title>
    <!-- Latest compiled and minified CSS & JS-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>
<style>
    .text-white {
        color: white;
    }

    /* Ensure 5 items per row using flexbox */
    .book-card {
        flex: 1 1 18%; /* Adjusted to 18% to make room for margins */
        max-width: 18%; /* Limit the max width to 18% */
        padding: 10px;
        margin: 10px; /* Added margin for spacing between cards */
    }
    
    @media (max-width: 768px) {
        .book-card {
            flex: 1 1 45%; /* 2 items per row on small screens */
            max-width: 45%;
            margin: 10px;
        }
    }

    @media (max-width: 576px) {
        .book-card {
            flex: 1 1 100%; /* 1 item per row on extra small screens */
            max-width: 100%;
            margin: 10px;
        }
    }

    /* Add some margin to the rows */
    .row {
        margin-bottom: 20px;
    }

</style>

<body style="background-color: #000000;">
    <nav class="navbar">
        <p class="navbar-brand" style="color: white;">ShelfWise</p>
        <ul>
            <li><a href="/">Home</a></li>
            <li><a href="/recommend">Recommend</a></li>
            <li><a href="/contact">Contact</a></li>
        </ul>
    </nav>

    <div class="container">
        <div class="row" style="margin-top: 20px;">
            <div class="col-md-12 text-center">
                <h1 class="text-white">Book Recommendations</h1>
                <form action="/recommend_books" method="post">
                    <input name="user_input" type="text" class="form-control form-control-lg" placeholder="Type a book title to get recommendations"><br>
                    <input type="submit" class="btn btn-lg btn-success">
                </form>
            </div>
        </div>
    </div>

    {% if data %}

    <!-- Displaying books in 5 items per row -->
    <div class="container">
        <div class="row d-flex flex-wrap justify-content-center" style="margin-top: 40px;">
            {% for i in data %}
            <div class="col-lg-2 col-md-4 col-sm-6 col-12 book-card"> <!-- Adjusted column widths -->
                <div class="card h-100">
                    <img src="{{ i[2] }}" class="card-img-top" alt="Book Image">
                    <div class="card-body">
                        <h5 class="card-title">{{ i[0] }}</h5>
                        <p class="card-text">{{ i[1] }}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    {% endif %}

</body>
</html>
